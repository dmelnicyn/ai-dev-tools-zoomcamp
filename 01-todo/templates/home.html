{% extends 'base.html' %}

{% block content %}
<a href="{% url 'create_todo' %}" class="btn btn-primary">Create New TODO</a>

{% for todo in todos %}
<div class="todo-item {% if todo.is_completed %}completed{% endif %}">
    <h3>{{ todo.title }}</h3>
    {% if todo.description %}<p>{{ todo.description }}</p>{% endif %}
    {% if todo.due_date %}<p><strong>Due:</strong> {{ todo.due_date }}</p>{% endif %}
    <p><strong>Status:</strong> {% if todo.is_completed %}Completed{% else %}Pending{% endif %}</p>
    <a href="{% url 'edit_todo' todo.id %}" class="btn btn-warning">Edit</a>
    <a href="{% url 'toggle_resolved' todo.id %}" class="btn btn-success">
        {% if todo.is_completed %}Mark Pending{% else %}Mark Completed{% endif %}
    </a>
    <a href="{% url 'delete_todo' todo.id %}" class="btn btn-danger">Delete</a>
</div>
{% empty %}
<p>No TODOs yet. <a href="{% url 'create_todo' %}">Create one!</a></p>
{% endfor %}
{% endblock %}

